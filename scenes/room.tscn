[gd_scene load_steps=15 format=4 uid="uid://gfvpt16hdue1"]

[ext_resource type="Shader" path="res://scripts/shaders/rain.gdshader" id="1_1f3ag"]
[ext_resource type="TileSet" uid="uid://r7x82rdaw80h" path="res://resources/tilesets/room.tres" id="1_lwtf6"]
[ext_resource type="Script" path="res://scripts/environment/tile_layers.gd" id="1_suw4i"]
[ext_resource type="Texture2D" uid="uid://m1v51t3xgjie" path="res://resources/sprites/gridloop.png" id="2_eajwq"]
[ext_resource type="PackedScene" uid="uid://b353v4ogg13io" path="res://scenes/character.tscn" id="3_aubfo"]
[ext_resource type="Script" path="res://scripts/objects/character.gd" id="3_jp7id"]
[ext_resource type="PackedScene" uid="uid://ooc6jx4dihku" path="res://scenes/marker.tscn" id="4_mnrrm"]
[ext_resource type="Resource" uid="uid://b1gb7sbupakg4" path="res://resources/character/inventory.tres" id="6_kcpka"]
[ext_resource type="PackedScene" uid="uid://bpie3rt8qmyxr" path="res://scenes/hud.tscn" id="8_s1rlv"]
[ext_resource type="Shader" path="res://scripts/shaders/bg.gdshader" id="9_t227l"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4qjpb"]
shader = ExtResource("9_t227l")
shader_parameter/color = Color(0.024, 0.0256, 0.12, 1)
shader_parameter/OCTAVES = 4
shader_parameter/enable_pixelation = false
shader_parameter/pixelation_amount = 999
shader_parameter/fog_direction = Vector2(1, 1)
shader_parameter/scroll_noise_tex = false
shader_parameter/noise_scroll_direction = Vector2(1, 0)

[sub_resource type="Gradient" id="Gradient_crfpw"]
colors = PackedColorArray(0, 0, 0, 0, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_f28ma"]
gradient = SubResource("Gradient_crfpw")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4aq65"]
shader = ExtResource("1_1f3ag")
shader_parameter/rain_amount = 200.0
shader_parameter/near_rain_length = 0.033
shader_parameter/far_rain_length = 0.052
shader_parameter/near_rain_width = 0.205
shader_parameter/far_rain_width = 0.245
shader_parameter/near_rain_transparency = 1.0
shader_parameter/far_rain_transparency = 0.5
shader_parameter/rain_color = Color(0.435, 0.5, 0.463167, 1)
shader_parameter/base_rain_speed = 0.5
shader_parameter/additional_rain_speed = 0.5
shader_parameter/slant = 0.2

[node name="Room" type="Node"]

[node name="Background" type="Sprite2D" parent="."]
texture_filter = 1
material = SubResource("ShaderMaterial_4qjpb")
position = Vector2(63.0001, -1042)
scale = Vector2(166.563, 111.844)
texture = SubResource("GradientTexture2D_f28ma")

[node name="Rain" type="Sprite2D" parent="."]
texture_filter = 1
material = SubResource("ShaderMaterial_4aq65")
position = Vector2(63.0001, -1042)
scale = Vector2(166.563, 111.844)
texture = SubResource("GradientTexture2D_f28ma")

[node name="Tilemap" type="Node2D" parent="."]
y_sort_enabled = true

[node name="TileLayers" type="Node2D" parent="Tilemap"]
y_sort_enabled = true
script = ExtResource("1_suw4i")

[node name="Layer 10" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 10
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD6//D/AAACAAEAAAD5//D/AAACAAEAAAD4//D/AAACAAEAAAD3//D/AAACAAEAAADv//D/AAAAAAEAAADw//D/AAACAAEAAADx//D/AAACAAEAAADy//D/AAACAAEAAADz//D/AAACAAEAAAD0//D/AAACAAEAAAD1//D/AAACAAEAAAD2//D/AAACAAEAAADv//H/AAAAAAEAAADv//L/AAAAAAEAAADv//P/AAAAAAEAAADv//T/AAAAAAEAAADv//X/AAAAAAEAAADv//b/AAAAAAEAAADv//f/AAAAAAEAAADv//j/AAAAAAEAAADv//n/AAAAAAEAAADv//r/AAAAAAEAAADv//v/AAAAAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 9

[node name="Layer 9" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 9
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AADw//z/AAAAAAEAAADw//v/AAAAAAEAAADw//r/AAAAAAEAAADw//n/AAAAAAEAAADw//j/AAAAAAEAAADw//f/AAAAAAEAAADw//b/AAAAAAEAAADw//X/AAAAAAEAAADw//T/AAAAAAEAAADw//P/AAAAAAEAAADw//L/AAAAAAEAAADw//H/AAAAAAEAAADx//H/AAACAAEAAADy//H/AAACAAEAAADz//H/AAACAAEAAAD0//H/AAACAAEAAAD1//H/AAACAAEAAAD2//H/AAACAAEAAAD3//H/AAACAAEAAAD4//H/AAACAAEAAAD5//H/AAACAAEAAAD6//H/AAACAAEAAAD7//H/AAACAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 8
x_draw_order_reversed = true

[node name="Layer 8" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 8
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD8//L/AAACAAEAAAD7//L/AAACAAEAAAD6//L/AAACAAEAAAD5//L/AAACAAEAAAD4//L/AAACAAEAAAD3//L/AAACAAEAAAD2//L/AAACAAEAAADz//L/AAACAAEAAADy//L/AAACAAEAAADx//L/AAAAAAEAAAD0//L/AAACAAEAAAD1//L/AAACAAEAAADx//P/AAAAAAEAAADx//T/AAAAAAEAAADx//X/AAAAAAEAAADx//b/AAAAAAEAAADx//f/AAAAAAEAAADx//j/AAAAAAEAAADx//n/AAAAAAEAAADx//r/AAAAAAEAAADx//v/AAAAAAEAAADx//3/AAAAAAEAAADx//z/AAAAAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 7

[node name="Layer 7" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 7
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AADy//7/AAAAAAEAAADy//3/AAAAAAEAAADy//z/AAAAAAEAAADy//v/AAAAAAEAAADy//r/AAAAAAEAAADy//b/AAAAAAEAAADy//X/AAAAAAEAAADy//T/AAAAAAEAAADy//j/AAAAAAEAAADy//f/AAAAAAEAAADy//n/AAAAAAEAAADy//P/AAAAAAEAAADz//P/AAACAAEAAAD0//P/AAACAAEAAAD1//P/AAACAAEAAAD2//P/AAACAAEAAAD3//P/AAACAAEAAAD4//P/AAACAAEAAAD5//P/AAACAAEAAAD6//P/AAACAAEAAAD7//P/AAACAAEAAAD8//P/AAACAAEAAAD9//P/AAACAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 6

[node name="Layer 6" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 6
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AADz////AAAAAAEAAADz//7/AAAAAAEAAADz//3/AAAAAAEAAADz//z/AAAAAAEAAADz//v/AAAAAAEAAADz//r/AAAAAAEAAADz//n/AAAAAAEAAADz//j/AAAAAAEAAADz//f/AAAAAAEAAADz//b/AAAAAAEAAADz//X/AAAAAAEAAADz//T/AAAAAAEAAAD0//T/AAACAAEAAAD1//T/AAACAAEAAAD2//T/AAACAAEAAAD3//T/AAACAAEAAAD4//T/AAACAAEAAAD5//T/AAACAAEAAAD6//T/AAACAAEAAAD7//T/AAACAAEAAAD8//T/AAACAAEAAAD9//T/AAACAAEAAAD+//T/AAACAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 5

[node name="Layer 5" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 5
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD0/wAAAAAAAAEAAAD0////AAAAAAEAAAD0//7/AAAAAAEAAAD0//3/AAAAAAEAAAD0//z/AAAAAAEAAAD0//v/AAAAAAEAAAD0//r/AAAAAAEAAAD0//n/AAAAAAEAAAD0//j/AAAAAAEAAAD0//f/AAAAAAEAAAD0//b/AAAAAAEAAAD0//X/AAAAAAEAAAD1//X/AAACAAEAAAD2//X/AAACAAEAAAD7//X/AAACAAEAAAD8//X/AAACAAEAAAD9//X/AAACAAEAAAD+//X/AAACAAEAAAD///X/AAACAAEAAAD6//X/AAACAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 4

[node name="Layer 4" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 4
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD1/wEAAAAAAAEAAAD1/wAAAAAAAAEAAAD1////AAAAAAEAAAD1//7/AAAAAAEAAAD1//3/AAAAAAEAAAD1//z/AAAAAAEAAAD1//j/AAAAAAEAAAD1//f/AAAAAAEAAAD1//b/AAAAAAEAAAD2//b/AAACAAEAAAD3//b/AAACAAEAAAD7//b/AAACAAEAAAD8//b/AAACAAEAAAD9//b/AAACAAEAAAD+//b/AAACAAEAAAD///b/AAACAAEAAAAAAPb/AAACAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 3

[node name="Layer 3" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 3
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD2/wIAAAAAAAEAAAD2/wEAAAAAAAEAAAD2/wAAAAAAAAEAAAD2////AAAAAAEAAAD2//7/AAAAAAEAAAD2//3/AAAAAAEAAAD2//n/AAAAAAEAAAD2//j/AAAAAAEAAAD2//f/AAAAAAEAAAD3//f/AAACAAEAAAD4//f/AAACAAEAAAD8//f/AAACAAEAAAD9//f/AAACAAEAAAD+//f/AAACAAEAAAD///f/AAACAAEAAAAAAPf/AAACAAEAAAABAPf/AAACAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = -1

[node name="Layer 2" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 2
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD3//r/AAAAAAEAAAD3//n/AAAAAAEAAAD3//j/AAAAAAEAAAD4//j/AAACAAEAAAD5//j/AAACAAEAAAD3//7/AAAAAAEAAAD3/wMAAAAAAAEAAAD3/wIAAAAAAAEAAAD3/wEAAAAAAAEAAAD3/wAAAAAAAAEAAAD3////AAAAAAEAAAD9//j/AAACAAEAAAD+//j/AAACAAEAAAD///j/AAACAAEAAAAAAPj/AAACAAEAAAABAPj/AAACAAEAAAACAPj/AAACAAEAAAD6//j/AAACAAEAAAD6//f/AAABAAEAAAD7//f/AAABAAEAAAD8//f/AAABAAEAAAD8//j/AAACAAEAAAD7//j/AAACAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 2
x_draw_order_reversed = true

[node name="Layer 1" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 1
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAADAPn/AAACAAEAAAACAPn/AAACAAEAAAABAPn/AAACAAEAAAAAAPn/AAACAAEAAAD///n/AAACAAEAAAD+//n/AAACAAEAAAD9//n/AAACAAEAAAD8//n/AAACAAEAAAD7//n/AAACAAEAAAD6//n/AAACAAEAAAD5//n/AAACAAEAAAD4//n/AAAAAAEAAAD4//r/AAAAAAEAAAD4//v/AAAAAAEAAAD4//z/AAAAAAEAAAD4//3/AAAAAAEAAAD4//7/AAAAAAEAAAD4////AAAAAAEAAAD4/wAAAAAAAAEAAAD4/wEAAAAAAAEAAAD4/wIAAAAAAAEAAAD4/wMAAAAAAAEAAAD4/wQAAAAAAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 1
x_draw_order_reversed = true

[node name="Base" type="TileMapLayer" parent="Tilemap/TileLayers"]
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD+////AAADAAEAAAD/////AAADAAEAAAD+/wAAAAADAAEAAAD+/wEAAAADAAEAAAAAAP//AAADAAEAAAD9//7/AAADAAEAAAD+//7/AAADAAEAAAD///7/AAADAAEAAAAAAP7/AAADAAEAAAABAP7/AAADAAEAAAABAP//AAADAAEAAAABAAAAAAADAAEAAAABAAEAAAADAAEAAAABAAIAAAADAAEAAAAAAAIAAAADAAEAAAD//wIAAAADAAEAAAD+/wIAAAADAAEAAAD9/wIAAAADAAEAAAD9/wEAAAADAAEAAAD9/wAAAAADAAEAAAD9////AAADAAEAAAD8//3/AAADAAEAAAD9//3/AAADAAEAAAD+//3/AAADAAEAAAACAP7/AAADAAEAAAABAP3/AAADAAEAAAAAAP3/AAADAAEAAAD///3/AAADAAEAAAACAP3/AAADAAEAAAACAP//AAADAAEAAAACAAAAAAADAAEAAAACAAEAAAADAAEAAAACAAIAAAADAAEAAAACAAMAAAADAAEAAAABAAMAAAADAAEAAAAAAAMAAAADAAEAAAD//wMAAAADAAEAAAD+/wMAAAADAAEAAAD9/wMAAAADAAEAAAD8/wIAAAADAAEAAAD8/wEAAAADAAEAAAD8/wAAAAADAAEAAAD8////AAADAAEAAAD8//7/AAADAAEAAAD7/wAAAAADAAEAAAD7/wEAAAADAAEAAAD7/wIAAAADAAEAAAD8/wMAAAADAAEAAAD7/wMAAAADAAEAAAD7////AAADAAEAAAD7//7/AAADAAEAAAD7//3/AAADAAEAAAD7//z/AAADAAEAAAD8//z/AAADAAEAAAD+//z/AAADAAEAAAD///z/AAADAAEAAAAAAPz/AAADAAEAAAABAPz/AAADAAEAAAACAPz/AAADAAEAAAADAP3/AAADAAEAAAADAPz/AAADAAEAAAADAP7/AAADAAEAAAADAP//AAADAAEAAAADAAAAAAADAAEAAAADAAEAAAADAAEAAAADAAIAAAADAAEAAAADAAMAAAADAAEAAAADAAQAAAADAAEAAAACAAQAAAADAAEAAAABAAQAAAADAAEAAAAAAAQAAAADAAEAAAD//wQAAAADAAEAAAD+/wQAAAADAAEAAAD9/wQAAAADAAEAAAD8/wQAAAADAAEAAAD7/wQAAAADAAEAAAD7/wUAAAADAAEAAAD8/wUAAAADAAEAAAD9/wUAAAADAAEAAAD+/wUAAAADAAEAAAD//wUAAAADAAEAAAAAAAUAAAADAAEAAAABAAUAAAADAAEAAAACAAUAAAADAAEAAAADAAUAAAADAAEAAAAEAAUAAAADAAEAAAAEAAQAAAADAAEAAAAEAAMAAAADAAEAAAAEAAIAAAADAAEAAAAEAAEAAAADAAEAAAAEAAAAAAADAAEAAAAEAP//AAADAAEAAAAEAP7/AAADAAEAAAAEAP3/AAADAAEAAAAEAPz/AAADAAEAAAAEAPv/AAADAAEAAAADAPv/AAADAAEAAAACAPv/AAADAAEAAAABAPv/AAADAAEAAAAAAPv/AAADAAEAAAD///v/AAADAAEAAAD+//v/AAADAAEAAAD7//v/AAADAAEAAAD8//v/AAADAAEAAAD9//v/AAADAAEAAAD6//v/AAADAAEAAAD6//z/AAADAAEAAAD6//3/AAADAAEAAAD6/wEAAAADAAEAAAD6/wIAAAADAAEAAAD6/wMAAAADAAEAAAD6/wQAAAADAAEAAAD6/wUAAAADAAEAAAD6/wAAAAADAAEAAAD6////AAADAAEAAAD6//7/AAADAAEAAAD5/wUAAAADAAEAAAD5/wQAAAADAAEAAAD5/wMAAAADAAEAAAD5/wIAAAADAAEAAAD5/wEAAAADAAEAAAD5/wAAAAADAAEAAAD5////AAADAAEAAAD5//7/AAADAAEAAAD5//3/AAADAAEAAAD5//z/AAADAAEAAAD5//v/AAADAAEAAAD5//r/AAADAAEAAAD6//r/AAADAAEAAAD7//r/AAADAAEAAAD8//r/AAADAAEAAAD9//r/AAADAAEAAAD+//r/AAADAAEAAAD///r/AAADAAEAAAAAAPr/AAADAAEAAAABAPr/AAADAAEAAAACAPr/AAADAAEAAAADAPr/AAADAAEAAAAEAPr/AAADAAEAAAD//wAAAAADAAEAAAD//wEAAAADAAEAAAAAAAEAAAADAAEAAAAAAAAAAAADAAEAAAD9//z/AAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")

[node name="Marker" parent="Tilemap/TileLayers" instance=ExtResource("4_mnrrm")]
visible = false
scale = Vector2(9, 9)

[node name="Character" parent="Tilemap" instance=ExtResource("3_aubfo")]
script = ExtResource("3_jp7id")
inventory = ExtResource("6_kcpka")
camera_edges = Array[int]([-540, -720, 540, 370])
inventory_camera_offset = 1000.0

[node name="Grid" type="Polygon2D" parent="Tilemap"]
visible = false
modulate = Color(1, 1, 1, 0.419608)
y_sort_enabled = true
texture_filter = 1
texture_repeat = 2
position = Vector2(0, 1800)
offset = Vector2(0, -1800)
texture = ExtResource("2_eajwq")
texture_offset = Vector2(300, 0)
polygon = PackedVector2Array(-3296, 0, 0, -1648, 3296, 0, 0, 1648)
metadata/_edit_lock_ = true

[node name="HUD" parent="." instance=ExtResource("8_s1rlv")]
