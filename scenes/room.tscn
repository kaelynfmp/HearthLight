[gd_scene load_steps=15 format=4 uid="uid://gfvpt16hdue1"]

[ext_resource type="Shader" path="res://scripts/shaders/rain.gdshader" id="1_1f3ag"]
[ext_resource type="TileSet" uid="uid://r7x82rdaw80h" path="res://resources/tilesets/room.tres" id="1_lwtf6"]
[ext_resource type="Script" path="res://scripts/environment/tile_layers.gd" id="1_suw4i"]
[ext_resource type="Texture2D" uid="uid://m1v51t3xgjie" path="res://resources/sprites/gridloop.png" id="2_eajwq"]
[ext_resource type="PackedScene" uid="uid://b353v4ogg13io" path="res://scenes/character.tscn" id="3_aubfo"]
[ext_resource type="Script" path="res://scripts/objects/character.gd" id="3_jp7id"]
[ext_resource type="PackedScene" uid="uid://ooc6jx4dihku" path="res://scenes/marker.tscn" id="4_mnrrm"]
[ext_resource type="Resource" uid="uid://b1gb7sbupakg4" path="res://resources/character/inventory.tres" id="6_kcpka"]
[ext_resource type="PackedScene" uid="uid://bpie3rt8qmyxr" path="res://scenes/hud.tscn" id="8_s1rlv"]
[ext_resource type="Shader" path="res://scripts/shaders/bg.gdshader" id="9_t227l"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4qjpb"]
shader = ExtResource("9_t227l")
shader_parameter/color = Color(0.024, 0.0256, 0.12, 1)
shader_parameter/OCTAVES = 4
shader_parameter/enable_pixelation = false
shader_parameter/pixelation_amount = 999
shader_parameter/fog_direction = Vector2(1, 1)
shader_parameter/scroll_noise_tex = false
shader_parameter/noise_scroll_direction = Vector2(1, 0)

[sub_resource type="Gradient" id="Gradient_crfpw"]
colors = PackedColorArray(0, 0, 0, 0, 1, 1, 1, 0)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_f28ma"]
gradient = SubResource("Gradient_crfpw")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4aq65"]
shader = ExtResource("1_1f3ag")
shader_parameter/rain_amount = 200.0
shader_parameter/near_rain_length = 0.2
shader_parameter/far_rain_length = 0.1
shader_parameter/near_rain_width = 1.0
shader_parameter/far_rain_width = 0.5
shader_parameter/near_rain_transparency = 1.0
shader_parameter/far_rain_transparency = 0.5
shader_parameter/rain_color = Color(0.435, 0.5, 0.463167, 1)
shader_parameter/base_rain_speed = 0.5
shader_parameter/additional_rain_speed = 0.5
shader_parameter/slant = 0.2

[node name="Room" type="Node"]

[node name="Background" type="Sprite2D" parent="."]
texture_filter = 1
material = SubResource("ShaderMaterial_4qjpb")
position = Vector2(63.0001, -1042)
scale = Vector2(166.563, 111.844)
texture = SubResource("GradientTexture2D_f28ma")

[node name="Rain" type="Sprite2D" parent="."]
texture_filter = 1
material = SubResource("ShaderMaterial_4aq65")
position = Vector2(63.0001, -1042)
scale = Vector2(166.563, 111.844)
texture = SubResource("GradientTexture2D_f28ma")

[node name="Tilemap" type="Node2D" parent="."]
y_sort_enabled = true

[node name="TileLayers" type="Node2D" parent="Tilemap"]
y_sort_enabled = true
script = ExtResource("1_suw4i")

[node name="Layer 10" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 10
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD6//D/AAADAAEAAAD5//D/AAADAAEAAAD4//D/AAADAAEAAAD3//D/AAADAAEAAADv//D/AAADAAEAAADw//D/AAADAAEAAADx//D/AAADAAEAAADy//D/AAADAAEAAADz//D/AAADAAEAAAD0//D/AAADAAEAAAD1//D/AAADAAEAAAD2//D/AAADAAEAAADv//H/AAADAAEAAADv//L/AAADAAEAAADv//P/AAADAAEAAADv//T/AAADAAEAAADv//X/AAADAAEAAADv//b/AAADAAEAAADv//f/AAADAAEAAADv//j/AAADAAEAAADv//n/AAADAAEAAADv//r/AAADAAEAAADv//v/AAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 9

[node name="Layer 9" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 9
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AADw//z/AAADAAEAAADw//v/AAADAAEAAADw//r/AAADAAEAAADw//n/AAADAAEAAADw//j/AAADAAEAAADw//f/AAADAAEAAADw//b/AAADAAEAAADw//X/AAADAAEAAADw//T/AAADAAEAAADw//P/AAADAAEAAADw//L/AAADAAEAAADw//H/AAADAAEAAADx//H/AAADAAEAAADy//H/AAADAAEAAADz//H/AAADAAEAAAD0//H/AAADAAEAAAD1//H/AAADAAEAAAD2//H/AAADAAEAAAD3//H/AAADAAEAAAD4//H/AAADAAEAAAD5//H/AAADAAEAAAD6//H/AAADAAEAAAD7//H/AAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 8
x_draw_order_reversed = true

[node name="Layer 8" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 8
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD8//L/AAADAAEAAAD7//L/AAADAAEAAAD6//L/AAADAAEAAAD5//L/AAADAAEAAAD4//L/AAADAAEAAAD3//L/AAADAAEAAAD2//L/AAADAAEAAADz//L/AAADAAEAAADy//L/AAADAAEAAADx//L/AAADAAEAAAD0//L/AAADAAEAAAD1//L/AAADAAEAAADx//P/AAADAAEAAADx//T/AAADAAEAAADx//X/AAADAAEAAADx//b/AAADAAEAAADx//f/AAADAAEAAADx//j/AAADAAEAAADx//n/AAADAAEAAADx//r/AAADAAEAAADx//v/AAADAAEAAADx//3/AAADAAEAAADx//z/AAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 7

[node name="Layer 7" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 7
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AADy//7/AAADAAEAAADy//3/AAADAAEAAADy//z/AAADAAEAAADy//v/AAADAAEAAADy//r/AAADAAEAAADy//b/AAADAAEAAADy//X/AAADAAEAAADy//T/AAADAAEAAADy//j/AAADAAEAAADy//f/AAADAAEAAADy//n/AAADAAEAAADy//P/AAADAAEAAADz//P/AAADAAEAAAD0//P/AAADAAEAAAD1//P/AAADAAEAAAD2//P/AAADAAEAAAD3//P/AAADAAEAAAD4//P/AAADAAEAAAD5//P/AAADAAEAAAD6//P/AAADAAEAAAD7//P/AAADAAEAAAD8//P/AAADAAEAAAD9//P/AAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 6

[node name="Layer 6" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 6
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AADz////AAADAAEAAADz//7/AAADAAEAAADz//3/AAADAAEAAADz//z/AAADAAEAAADz//v/AAADAAEAAADz//r/AAADAAEAAADz//n/AAADAAEAAADz//j/AAADAAEAAADz//f/AAADAAEAAADz//b/AAADAAEAAADz//X/AAADAAEAAADz//T/AAADAAEAAAD0//T/AAADAAEAAAD1//T/AAADAAEAAAD2//T/AAADAAEAAAD3//T/AAADAAEAAAD4//T/AAADAAEAAAD5//T/AAADAAEAAAD6//T/AAADAAEAAAD7//T/AAADAAEAAAD8//T/AAADAAEAAAD9//T/AAADAAEAAAD+//T/AAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 5

[node name="Layer 5" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 5
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD0/wAAAAADAAEAAAD0////AAADAAEAAAD0//7/AAADAAEAAAD0//3/AAADAAEAAAD0//z/AAADAAEAAAD0//v/AAADAAEAAAD0//r/AAADAAEAAAD0//n/AAADAAEAAAD0//j/AAADAAEAAAD0//f/AAADAAEAAAD0//b/AAADAAEAAAD0//X/AAADAAEAAAD1//X/AAADAAEAAAD2//X/AAADAAEAAAD7//X/AAADAAEAAAD8//X/AAADAAEAAAD9//X/AAADAAEAAAD+//X/AAADAAEAAAD///X/AAADAAEAAAD6//X/AAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 4

[node name="Layer 4" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 4
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD1/wEAAAADAAEAAAD1/wAAAAADAAEAAAD1////AAADAAEAAAD1//7/AAADAAEAAAD1//3/AAADAAEAAAD1//z/AAADAAEAAAD1//j/AAADAAEAAAD1//f/AAADAAEAAAD1//b/AAADAAEAAAD2//b/AAADAAEAAAD3//b/AAADAAEAAAD7//b/AAADAAEAAAD8//b/AAADAAEAAAD9//b/AAADAAEAAAD+//b/AAADAAEAAAD///b/AAADAAEAAAAAAPb/AAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 3

[node name="Layer 3" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 3
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD2/wIAAAADAAEAAAD2/wEAAAADAAEAAAD2/wAAAAADAAEAAAD2////AAADAAEAAAD2//7/AAADAAEAAAD2//3/AAADAAEAAAD2//n/AAADAAEAAAD2//j/AAADAAEAAAD2//f/AAADAAEAAAD3//f/AAADAAEAAAD4//f/AAADAAEAAAD8//f/AAADAAEAAAD9//f/AAADAAEAAAD+//f/AAADAAEAAAD///f/AAADAAEAAAAAAPf/AAADAAEAAAABAPf/AAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = -1

[node name="Layer 2" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 2
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD3//r/AAADAAEAAAD3//n/AAADAAEAAAD3//j/AAADAAEAAAD4//j/AAADAAEAAAD5//j/AAADAAEAAAD3//7/AAADAAEAAAD3/wMAAAADAAEAAAD3/wIAAAADAAEAAAD3/wEAAAADAAEAAAD3/wAAAAADAAEAAAD3////AAADAAEAAAD9//j/AAADAAEAAAD+//j/AAADAAEAAAD///j/AAADAAEAAAAAAPj/AAADAAEAAAABAPj/AAADAAEAAAACAPj/AAADAAEAAAD6//j/AAADAAEAAAD6//f/AAADAAEAAAD7//f/AAADAAEAAAD8//f/AAADAAEAAAD8//j/AAADAAEAAAD7//j/AAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 2
x_draw_order_reversed = true

[node name="Layer 1" type="TileMapLayer" parent="Tilemap/TileLayers"]
z_index = 1
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAADAPn/AAADAAEAAAACAPn/AAADAAEAAAABAPn/AAADAAEAAAAAAPn/AAADAAEAAAD///n/AAADAAEAAAD+//n/AAADAAEAAAD9//n/AAADAAEAAAD8//n/AAADAAEAAAD7//n/AAADAAEAAAD6//n/AAADAAEAAAD5//n/AAADAAEAAAD4//n/AAADAAEAAAD4//r/AAADAAEAAAD4//v/AAADAAEAAAD4//z/AAADAAEAAAD4//3/AAADAAEAAAD4//7/AAADAAEAAAD4////AAADAAEAAAD4/wAAAAADAAEAAAD4/wEAAAADAAEAAAD4/wIAAAADAAEAAAD4/wMAAAADAAEAAAD4/wQAAAADAAEAAAA=")
tile_set = ExtResource("1_lwtf6")
y_sort_origin = 1
x_draw_order_reversed = true

[node name="Base" type="TileMapLayer" parent="Tilemap/TileLayers"]
y_sort_enabled = true
texture_filter = 1
use_parent_material = true
tile_map_data = PackedByteArray("AAD+////AAABAAEAAAD/////AAACAAEAAAD+/wAAAAAEAAEAAAD+/wEAAAACAAEAAAAAAP//AAABAAEAAAD9//7/AAABAAEAAAD+//7/AAABAAEAAAD///7/AAABAAEAAAAAAP7/AAAAAAEAAAABAP7/AAABAAEAAAABAP//AAAFAAEAAAABAAAAAAAAAAEAAAABAAEAAAABAAEAAAABAAIAAAAEAAEAAAAAAAIAAAAFAAEAAAD//wIAAAAEAAEAAAD+/wIAAAABAAEAAAD9/wIAAAABAAEAAAD9/wEAAAABAAEAAAD9/wAAAAABAAEAAAD9////AAAAAAEAAAD8//3/AAAFAAEAAAD9//3/AAAFAAEAAAD+//3/AAAEAAEAAAACAP7/AAABAAEAAAABAP3/AAACAAEAAAAAAP3/AAABAAEAAAD///3/AAAFAAEAAAACAP3/AAACAAEAAAACAP//AAABAAEAAAACAAAAAAABAAEAAAACAAEAAAAFAAEAAAACAAIAAAABAAEAAAACAAMAAAAFAAEAAAABAAMAAAABAAEAAAAAAAMAAAAAAAEAAAD//wMAAAAEAAEAAAD+/wMAAAABAAEAAAD9/wMAAAABAAEAAAD8/wIAAAABAAEAAAD8/wEAAAABAAEAAAD8/wAAAAACAAEAAAD8////AAABAAEAAAD8//7/AAAEAAEAAAD7/wAAAAAEAAEAAAD7/wEAAAACAAEAAAD7/wIAAAACAAEAAAD8/wMAAAAAAAEAAAD7/wMAAAAAAAEAAAD7////AAABAAEAAAD7//7/AAAFAAEAAAD7//3/AAAFAAEAAAD7//z/AAABAAEAAAD8//z/AAAAAAEAAAD+//z/AAABAAEAAAD///z/AAACAAEAAAAAAPz/AAAAAAEAAAABAPz/AAAEAAEAAAACAPz/AAAAAAEAAAADAP3/AAABAAEAAAADAPz/AAABAAEAAAADAP7/AAABAAEAAAADAP//AAABAAEAAAADAAAAAAABAAEAAAADAAEAAAABAAEAAAADAAIAAAABAAEAAAADAAMAAAABAAEAAAADAAQAAAABAAEAAAACAAQAAAABAAEAAAABAAQAAAABAAEAAAAAAAQAAAACAAEAAAD//wQAAAABAAEAAAD+/wQAAAABAAEAAAD9/wQAAAABAAEAAAD8/wQAAAABAAEAAAD7/wQAAAABAAEAAAD7/wUAAAAAAAEAAAD8/wUAAAAAAAEAAAD9/wUAAAAAAAEAAAD+/wUAAAAAAAEAAAD//wUAAAAAAAEAAAAAAAUAAAAAAAEAAAABAAUAAAAAAAEAAAACAAUAAAAAAAEAAAADAAUAAAAAAAEAAAAEAAUAAAAEAAEAAAAEAAQAAAACAAEAAAAEAAMAAAACAAEAAAAEAAIAAAACAAEAAAAEAAEAAAACAAEAAAAEAAAAAAACAAEAAAAEAP//AAACAAEAAAAEAP7/AAACAAEAAAAEAP3/AAACAAEAAAAEAPz/AAACAAEAAAAEAPv/AAACAAEAAAADAPv/AAAEAAEAAAACAPv/AAAEAAEAAAABAPv/AAAEAAEAAAAAAPv/AAAEAAEAAAD///v/AAAEAAEAAAD+//v/AAAEAAEAAAD7//v/AAACAAEAAAD8//v/AAABAAEAAAD9//v/AAAFAAEAAAD6//v/AAAEAAEAAAD6//z/AAACAAEAAAD6//3/AAABAAEAAAD6/wEAAAAFAAEAAAD6/wIAAAABAAEAAAD6/wMAAAABAAEAAAD6/wQAAAABAAEAAAD6/wUAAAAAAAEAAAD6/wAAAAAFAAEAAAD6////AAAAAAEAAAD6//7/AAABAAEAAAD5/wUAAAAAAAEAAAD5/wQAAAABAAEAAAD5/wMAAAAEAAEAAAD5/wIAAAABAAEAAAD5/wEAAAABAAEAAAD5/wAAAAABAAEAAAD5////AAABAAEAAAD5//7/AAABAAEAAAD5//3/AAAAAAEAAAD5//z/AAABAAEAAAD5//v/AAABAAEAAAD5//r/AAAFAAEAAAD6//r/AAAEAAEAAAD7//r/AAAFAAEAAAD8//r/AAABAAEAAAD9//r/AAABAAEAAAD+//r/AAAAAAEAAAD///r/AAACAAEAAAAAAPr/AAABAAEAAAABAPr/AAABAAEAAAACAPr/AAABAAEAAAADAPr/AAABAAEAAAAEAPr/AAACAAEAAAD//wAAAAACAAEAAAD//wEAAAABAAEAAAAAAAEAAAAAAAEAAAAAAAAAAAAAAAEAAAD9//z/AAAEAAEAAAA=")
tile_set = ExtResource("1_lwtf6")

[node name="Marker" parent="Tilemap/TileLayers" instance=ExtResource("4_mnrrm")]
visible = false

[node name="Character" parent="Tilemap" instance=ExtResource("3_aubfo")]
script = ExtResource("3_jp7id")
inventory = ExtResource("6_kcpka")
camera_edges = Array[int]([-540, -720, 540, 370])
inventory_camera_offset = 700.0

[node name="Grid" type="Polygon2D" parent="Tilemap"]
visible = false
modulate = Color(1, 1, 1, 0.419608)
y_sort_enabled = true
texture_filter = 1
texture_repeat = 2
position = Vector2(0, 1800)
offset = Vector2(0, -1800)
texture = ExtResource("2_eajwq")
texture_offset = Vector2(300, 0)
polygon = PackedVector2Array(-3296, 0, 0, -1648, 3296, 0, 0, 1648)
metadata/_edit_lock_ = true

[node name="HUD" parent="." instance=ExtResource("8_s1rlv")]
